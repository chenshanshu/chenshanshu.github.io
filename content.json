{"meta":{"title":"MyBlog","subtitle":"","description":"前端开发 javascript css html 样式","author":"chenss","url":"https://chenshanshu.github.io/2020/06/15/hello-world","root":"/"},"pages":[],"posts":[{"title":"2021/12/31 前端分享","slug":"2021-12-31-前端分享","date":"2021-12-31T02:16:25.000Z","updated":"2021-12-31T04:24:11.652Z","comments":true,"path":"2021/12/31/2021-12-31-前端分享/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2021/12/31/2021-12-31-%E5%89%8D%E7%AB%AF%E5%88%86%E4%BA%AB/","excerpt":"reduce()的用法1arr.reduce(callback,[initialValue]) 数组求和 12345var arr = [1, 2, 3, 4];var sum = arr.reduce(function(prev, cur, index, arr) &#123; return prev + cur; &#125;, 0) 计算一个数组中每个元素出现的次数 123456789let arr = [&#x27;test&#x27;, &#x27;test&#x27;, &#x27;name&#x27;, &#x27;sun&#x27;, &#x27;mon&#x27;, &#x27;wen&#x27;, &#x27;sun&#x27;]let result = arr.reduce((pre, cur) =&gt; &#123; if (cur in pre) &#123; pre[cur]++ &#125; else &#123; pre[cur] = 1 &#125; return pre&#125;, &#123;&#125;) 数组去重 12345let result = arr.reduce((pre, cur) =&gt; &#123; if (!pre.includes(cur)) &#123; pre.push(cur) &#125;&#125;, []) 将多维数组转为一维 123456789let arr = [ [0, 1], [2, 3], [4, [5, 6, 7]]]const newArr = function(arr) &#123; return arr.reduce((pre, cur) =&gt; pre.concat(Array.isArray(cur) ? newArr(cur) : cur), [])&#125;console.log(newArr(arr)); //[0, 1, 2, 3, 4, 5, 6, 7]","text":"reduce()的用法1arr.reduce(callback,[initialValue]) 数组求和 12345var arr = [1, 2, 3, 4];var sum = arr.reduce(function(prev, cur, index, arr) &#123; return prev + cur; &#125;, 0) 计算一个数组中每个元素出现的次数 123456789let arr = [&#x27;test&#x27;, &#x27;test&#x27;, &#x27;name&#x27;, &#x27;sun&#x27;, &#x27;mon&#x27;, &#x27;wen&#x27;, &#x27;sun&#x27;]let result = arr.reduce((pre, cur) =&gt; &#123; if (cur in pre) &#123; pre[cur]++ &#125; else &#123; pre[cur] = 1 &#125; return pre&#125;, &#123;&#125;) 数组去重 12345let result = arr.reduce((pre, cur) =&gt; &#123; if (!pre.includes(cur)) &#123; pre.push(cur) &#125;&#125;, []) 将多维数组转为一维 123456789let arr = [ [0, 1], [2, 3], [4, [5, 6, 7]]]const newArr = function(arr) &#123; return arr.reduce((pre, cur) =&gt; pre.concat(Array.isArray(cur) ? newArr(cur) : cur), [])&#125;console.log(newArr(arr)); //[0, 1, 2, 3, 4, 5, 6, 7] Vuex数据保存问题 Vuex存储在内存，数据刷新就会丢失，无内存大小限制，而Storage最大为5M。数据为响应式，用于组件间传值。 sessionStorage 用于临时保存数据，标签页关闭后数据删除 localStorage 可以在多个标签页共享没有过期时间，除非手动删除 question: 移动端页面进行支付时页面会进行刷新, 导致Vuex存储的数据丢失了。 12345678910111213141516171819202122232425const getState = _ =&gt; JSON.parse(window.sessionStorage.getItem(&quot;state&quot;) || &#x27;&#123;&#125;&#x27;)const setState = state =&gt; window.sessionStorage.setItem(&#x27;state&#x27;, JSON.stringify(state || &#123;&#125;));import Vue from &#x27;vue&#x27;import Vuex from &#x27;vuex&#x27;Vue.use(Vuex);export default new Vuex.Store(&#123; state: &#123; id: null, name: null, ...getState() &#125; mutations: &#123; SETNAME(state, v) &#123; state.name = v &#125; &#125;, actions: &#123; setName(context, val) &#123; context.commit(&quot;SETNAME&quot;, val) setState(context.state) &#125; &#125;, getters: &#123;&#125;&#125;)","categories":[{"name":"+ 前端","slug":"前端","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[]},{"title":"flask-auth","slug":"flask-auth","date":"2021-10-19T07:41:16.000Z","updated":"2021-12-31T02:30:19.510Z","comments":true,"path":"2021/10/19/flask-auth/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2021/10/19/flask-auth/","excerpt":"一、windows系统python3虚拟环境 新建文件夹venv，然后执行python -m venv venv 运行.\\Scripts\\activate.bat启动虚拟环境cmd中需要使用反斜线，否则无法启动 二、Flask服务12345678910111213141516171819202122from flask import Flask,requestfrom markupsafe import escapeapp = Flask(__name__)#通过route()装饰器来把函数绑定到URL@app.route(&quot;/&quot;)def index(): return &quot;hellow world&quot;#app对象的add_url_rule()函数也可以用于将URL与函数绑定def hello_world(): return &#x27;hello world&#x27;app.add_url_rule(&#x27;/&#x27;,&#x27;hello&#x27;,hello_word)@app.route(&quot;/path/&lt;path:subpath&gt;&quot;)def show_subpath(subpath): return f&#x27;subpath &#123;escape(subpath)&#125;&#x27;if __name__ == &quot;__main__&quot;: app.run(host=&quot;0.0.0.0&quot;, port=5000) 转换器类型：URL内用中括号标记变量，通过converter:variable_name为变量加上转换器 字段 说明 string （缺省值）接受任何不包含斜杆的文本 int 接受正整数 float 接受正浮点数 path 类似 string ，但可以包含斜杠 uuid 接受 UUID 字符串 URL构建url_for()函数用于构建指定函数的URL, 函数名称作为第一个参数，可接受任意个关键字参数 静态文件只要在您的包或模块旁边创建一个名为 static 的文件夹就行了。 静态文件位于应用的 /static 中。 url_for(&#39;static&#39;, filename=&#39;style.css&#39;) 三、Flask服务启动 安装Flask模块pip install Flask 编写好脚本保存为server.py set FLASK_APP=server 需要打开开发功能set FLASK_ENV=development 运行flask run","text":"一、windows系统python3虚拟环境 新建文件夹venv，然后执行python -m venv venv 运行.\\Scripts\\activate.bat启动虚拟环境cmd中需要使用反斜线，否则无法启动 二、Flask服务12345678910111213141516171819202122from flask import Flask,requestfrom markupsafe import escapeapp = Flask(__name__)#通过route()装饰器来把函数绑定到URL@app.route(&quot;/&quot;)def index(): return &quot;hellow world&quot;#app对象的add_url_rule()函数也可以用于将URL与函数绑定def hello_world(): return &#x27;hello world&#x27;app.add_url_rule(&#x27;/&#x27;,&#x27;hello&#x27;,hello_word)@app.route(&quot;/path/&lt;path:subpath&gt;&quot;)def show_subpath(subpath): return f&#x27;subpath &#123;escape(subpath)&#125;&#x27;if __name__ == &quot;__main__&quot;: app.run(host=&quot;0.0.0.0&quot;, port=5000) 转换器类型：URL内用中括号标记变量，通过converter:variable_name为变量加上转换器 字段 说明 string （缺省值）接受任何不包含斜杆的文本 int 接受正整数 float 接受正浮点数 path 类似 string ，但可以包含斜杠 uuid 接受 UUID 字符串 URL构建url_for()函数用于构建指定函数的URL, 函数名称作为第一个参数，可接受任意个关键字参数 静态文件只要在您的包或模块旁边创建一个名为 static 的文件夹就行了。 静态文件位于应用的 /static 中。 url_for(&#39;static&#39;, filename=&#39;style.css&#39;) 三、Flask服务启动 安装Flask模块pip install Flask 编写好脚本保存为server.py set FLASK_APP=server 需要打开开发功能set FLASK_ENV=development 运行flask run 四、更多用法4.1、日志调用示例： 123app.logger.debug(&#x27;A value for debugging&#x27;)app.logger.warning(&#x27;A warning occurred (%d apples)&#x27;, 42)app.logger.error(&#x27;An error occurred&#x27;) 4.2、Flask概述什么是Web Framework?Web Application Framework(web应用程序框架)或简单的Web Framework(Web框架)表示一个库和模块的集合，使Web应用程序开发人员能够编写应用程序，而不必担心协议，线程管理等低级细节。 什么是Flask?Flask是一个用Python编写的Web应用程序框架。Flask基于Werkzeug WSGI工具包和Jinja2模板引擎。 WSGIWeb Server Gateway Interface(Web服务器网关接口，WSGI)已被用作Python Web应用程序开发的标准。WSGI是Web服务器和Web应用程序之间通用接口的规范 Werkzeug它是一个WSGI工具包，它实现了请求，响应对象和实用函数。这使得能够在其上构建Web框架。 jinja2jinja2是Python的一个流行的模板引擎。Web模板系统将模板与特定数据源组合以呈现动态网页。","categories":[{"name":"+ python","slug":"python","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/python/"}],"tags":[{"name":"flask Oauth","slug":"flask-Oauth","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/flask-Oauth/"}]},{"title":"css3动画","slug":"css3动画","date":"2021-07-28T08:16:10.000Z","updated":"2021-12-31T02:31:19.853Z","comments":true,"path":"2021/07/28/css3动画/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2021/07/28/css3%E5%8A%A8%E7%94%BB/","excerpt":"css3 商品详情页，主图缓动效果 123456position: sticky;top: 0;-webkit-transform: translateZ(-1px) scale(2);transform: translateZ(-1px) scale(2);-webkit-transform-origin: 0 0;transform-origin: 0 0;","text":"css3 商品详情页，主图缓动效果 123456position: sticky;top: 0;-webkit-transform: translateZ(-1px) scale(2);transform: translateZ(-1px) scale(2);-webkit-transform-origin: 0 0;transform-origin: 0 0;","categories":[{"name":"+ 前端","slug":"前端","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"css","slug":"css","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/css/"}]},{"title":"一种避免重复请求的方法","slug":"一种避免重复请求的方法","date":"2021-06-21T11:44:50.000Z","updated":"2021-12-31T02:32:00.092Z","comments":true,"path":"2021/06/21/一种避免重复请求的方法/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2021/06/21/%E4%B8%80%E7%A7%8D%E9%81%BF%E5%85%8D%E9%87%8D%E5%A4%8D%E8%AF%B7%E6%B1%82%E7%9A%84%E6%96%B9%E6%B3%95/","excerpt":"一种避免重复请求的方法 需求1、需求：小程序在app.js中需要发起一个login请求，在index的onLoad()钩子里要拿到login的返回值进行后续操作。2、通过该方法可以避免在第一次请求未完成时发出第二个请求。 实现1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859/** * 一种避免重复请求的方法,不支持async * @arg * arg[0] id String * arg[1] promise函数 Function * arg[2] arg[1]的参数 Object **/let emiter = &#123;&#125;;export default class Emiter &#123; constructor(...arg) &#123; const unionKey = &#x27;emiter-&#x27; + arg[0] this.emiter = emiter[unionKey] = emiter[unionKey] || &#123; resolveQueue: [], rejectQueue: [] &#125; this.methods = arg[1] || &#x27;&#x27; if (typeof this.methods !== &#x27;function&#x27;) return if (this.emiter.promiseStatus === &#x27;resolved&#x27;) &#123; setTimeout(_ =&gt; &#123; this.emitAll(this.emiter.resolveQueue, this.emiter.res) &#125;) &#125; else if (!this.emiter.promiseStatus) &#123; this.emiter.promiseStatus = &#x27;pending&#x27; this.methods(arg[2] || &#123;&#125;).then(res =&gt; &#123; setTimeout(_ =&gt; &#123; delete this.emiter.promiseStatus &#125;, 1000) this.emiter.promiseStatus = &#x27;resolved&#x27; this.emiter.res = res this.emitAll(this.emiter.resolveQueue, res) &#125;).catch(err =&gt; &#123; delete this.emiter.promiseStatus this.emitAll(this.emiter.rejectQueue, err) &#125;) &#125; &#125; emitAll(queue, res) &#123; if (this.emiter.promiseStatus === &#x27;pending&#x27;) return while (queue.length) &#123; queue[0](res) queue.shift() &#125; &#125; then(callback) &#123; if (callback &amp;&amp; typeof callback === &#x27;function&#x27;) &#123; this.emiter.resolveQueue.push(callback) &#125; return this &#125; catch (callback) &#123; if (callback &amp;&amp; typeof callback === &#x27;function&#x27;) &#123; this.emiter.rejectQueue.push(callback) &#125; return this &#125;&#125;","text":"一种避免重复请求的方法 需求1、需求：小程序在app.js中需要发起一个login请求，在index的onLoad()钩子里要拿到login的返回值进行后续操作。2、通过该方法可以避免在第一次请求未完成时发出第二个请求。 实现1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859/** * 一种避免重复请求的方法,不支持async * @arg * arg[0] id String * arg[1] promise函数 Function * arg[2] arg[1]的参数 Object **/let emiter = &#123;&#125;;export default class Emiter &#123; constructor(...arg) &#123; const unionKey = &#x27;emiter-&#x27; + arg[0] this.emiter = emiter[unionKey] = emiter[unionKey] || &#123; resolveQueue: [], rejectQueue: [] &#125; this.methods = arg[1] || &#x27;&#x27; if (typeof this.methods !== &#x27;function&#x27;) return if (this.emiter.promiseStatus === &#x27;resolved&#x27;) &#123; setTimeout(_ =&gt; &#123; this.emitAll(this.emiter.resolveQueue, this.emiter.res) &#125;) &#125; else if (!this.emiter.promiseStatus) &#123; this.emiter.promiseStatus = &#x27;pending&#x27; this.methods(arg[2] || &#123;&#125;).then(res =&gt; &#123; setTimeout(_ =&gt; &#123; delete this.emiter.promiseStatus &#125;, 1000) this.emiter.promiseStatus = &#x27;resolved&#x27; this.emiter.res = res this.emitAll(this.emiter.resolveQueue, res) &#125;).catch(err =&gt; &#123; delete this.emiter.promiseStatus this.emitAll(this.emiter.rejectQueue, err) &#125;) &#125; &#125; emitAll(queue, res) &#123; if (this.emiter.promiseStatus === &#x27;pending&#x27;) return while (queue.length) &#123; queue[0](res) queue.shift() &#125; &#125; then(callback) &#123; if (callback &amp;&amp; typeof callback === &#x27;function&#x27;) &#123; this.emiter.resolveQueue.push(callback) &#125; return this &#125; catch (callback) &#123; if (callback &amp;&amp; typeof callback === &#x27;function&#x27;) &#123; this.emiter.rejectQueue.push(callback) &#125; return this &#125;&#125; 示例1234567const fun = function (params) &#123; return new Promise((resolve, reject) =&gt; &#123; setTimeout(_ =&gt; &#123; resolve(&#x27;REQUEST SUCCESS&#x27;) &#125;, 1000) &#125;)&#125;new Emiter(&#x27;union-id&#x27;, fun).then(res=&gt;&#123;&#125;).catch(err=&gt;&#123;&#125;)","categories":[],"tags":[{"name":"js","slug":"js","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/js/"}]},{"title":"浏览器下载文件","slug":"浏览器下载文件","date":"2021-04-23T07:17:35.000Z","updated":"2021-10-20T06:23:23.907Z","comments":true,"path":"2021/04/23/浏览器下载文件/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2021/04/23/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6/","excerpt":"","text":"文件下载","categories":[],"tags":[{"name":"js","slug":"js","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/js/"}]},{"title":"浏览器打印功能","slug":"浏览器打印功能","date":"2021-04-07T02:22:41.000Z","updated":"2021-12-31T02:32:48.783Z","comments":true,"path":"2021/04/07/浏览器打印功能/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2021/04/07/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%93%E5%8D%B0%E5%8A%9F%E8%83%BD/","excerpt":"打印API：window.print() 需求：打印局部内容，如打印下面页面类名 printBox 里面的内容12345678910111213&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;body&gt; &lt;div&gt;页面内容...&lt;/div&gt; &lt;button class=&quot;printBtn&quot;&gt;打印报告&lt;/button&gt; &lt;div id=&quot;printContent&quot; style=&quot;display:none&quot;&gt; &lt;div class=&quot;printBox&quot;&gt; &lt;h1&gt;打印报告&lt;h1&gt; &lt;p&gt;报告内容...&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt;","text":"打印API：window.print() 需求：打印局部内容，如打印下面页面类名 printBox 里面的内容12345678910111213&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;body&gt; &lt;div&gt;页面内容...&lt;/div&gt; &lt;button class=&quot;printBtn&quot;&gt;打印报告&lt;/button&gt; &lt;div id=&quot;printContent&quot; style=&quot;display:none&quot;&gt; &lt;div class=&quot;printBox&quot;&gt; &lt;h1&gt;打印报告&lt;h1&gt; &lt;p&gt;报告内容...&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt; 实现：已知A4纸张尺寸为297mm*210mm，通过创建 iframe 来实现打印；123456789101112131415161718192021222324252627282930var a = 1;var frameId = &#x27;printFrame&#x27;;/** * @param &#123;boolean&#125; portrait 是否纵向打印*/var print = function(portrait)&#123; var iframe = document.getElementById(frameId); if(!iframe)&#123; var frameStyle = portrait ? `&lt;style&gt;@page&#123;size:A4 portrait;margin:0mm;width:297mm;min-height:200mm;&#125;&lt;/style&gt;`: `&lt;style&gt;@page&#123;size:A4 landscape;margin:0mm;width:210mm;min-height:280mm;&#125;&lt;/style&gt;`; // 当高度设置为最大值，会出现打印内容后面多出一张空白页 var el = document.getElementById(&quot;printContent&quot;); iframe = document.createElement(&#x27;IFRAME&#x27;); iframe.setAttribute(frameId); iframe.setAttribute(&#x27;style&#x27;, &#x27;position:absolute;width:0px;height:0px;left:-500px;top:-500px;&#x27;); document.body.appendChild(iframe); var doc = iframe.contentWindow.document; doc.write(frameStyle); doc.write(`&lt;div&gt;$&#123;el.innerHTML&#125;&lt;/div&gt;`); doc.close(); iframe.contentWindow.focus(); &#125; iframe.contentWindow.print(); if (navigator.userAgent.indexOf(&quot;MSIE&quot;) &gt; 0)&#123; document.body.removeChild(iframe); &#125;&#125; 注意： 当打印内容带有背景时候记得勾选背景图形选项 此处只测试了Chrome，兼容性未处理 扩展：打印机型号不同时打印内容也有差别，所以可以通过用canvas来绘制内容(可以参考微信小程序生成分享图功能)，然后生成图片放入第二步的iframe中。","categories":[],"tags":[{"name":"js","slug":"js","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/js/"}]},{"title":"Hello World","slug":"hello-world","date":"2021-03-04T06:49:48.058Z","updated":"2021-03-04T06:49:48.058Z","comments":true,"path":"2021/03/04/hello-world/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2021/03/04/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]},{"title":"Web Components","slug":"web-components","date":"2020-11-06T02:10:29.000Z","updated":"2021-03-04T06:49:48.061Z","comments":true,"path":"2020/11/06/web-components/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2020/11/06/web-components/","excerpt":"","text":"The Shadow DOM通过shadow DOM在文档流中创建一些完全独立于其他元素的子DOM树（sub-DOM trees），由于这个特性，使我们能封装一个具有独立功能的组件，并且可以保证不会干扰到其它DOM元素 兼容性Chrome、Opera、Chrome for Android WebComponents的重要性 开发无害插件（主页面样式不会修改组件样式） 能开发更通用的组件 可维护","categories":[{"name":"+ web","slug":"web","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/web/"}],"tags":[{"name":"web","slug":"web","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/web/"}]},{"title":"Apache配置","slug":"Apache配置","date":"2020-10-28T07:40:04.000Z","updated":"2021-03-04T06:49:48.057Z","comments":true,"path":"2020/10/28/Apache配置/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2020/10/28/Apache%E9%85%8D%E7%BD%AE/","excerpt":"","text":"wamp安装及配置反向代理 安装wamp，也可安装apache 下载地址 “http://www.wampserver.com/en/&quot; 配置apache使外网访问（版本2.4.27） 修改httpd.conf文件Require all denied ==&gt; Require all granted Require local ==&gt; Require all granted Listen 0.0.0.0:8000 //搜索 Listen 0.0.0.0:80 添加对8000端口的监听 修改httpd-vhosts.conf文件Require all denied ==&gt; Require all granted //至此别人可以访问你的www目录下的静态内容 设置花生壳内网穿透（有公网ip的忽略） 填写你的局域网ip,端口,获得外网访问地址 配置Apache反向代理nodejs服务 修改httpd.conf文件 //去掉下列内容的注释，引入代理模块 LoadModule proxy_module modules/mod_proxy.so LoadModule proxy_http_module modules/mod_proxy_http.so //如需ftp，取消如下注释 LoadModule proxy_ftp_module modules/mod_proxy_ftp.so 修改httpd-vhosts.conf文件 //添加下列代码 &lt;VirtualHost *:8000&gt; //不放在80端口上防止影响phpMyAdmin ServerName 20xr498049.imwork.net //外网访问的域名 ServerAlias www.20xr498049.imwork.net:42685 //别名 #DocumentRoot &quot;$&#123;INSTALL_DIR&#125;/www&quot; &lt;Proxy *&gt; Order allow,deny Allow from all &lt;/Proxy&gt; &lt;Location /&gt; ProxyPass http://localhost:3000/ //node访问地址 ProxyPassReverse http://localhost:3000/ &lt;/Location&gt; &lt;/VirtualHost&gt; 开启nodejs项目，重启apache服务。","categories":[],"tags":[{"name":"Apache","slug":"Apache","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/Apache/"}]},{"title":"git 手册","slug":"git-手册","date":"2020-10-28T07:34:41.000Z","updated":"2021-10-20T06:23:43.919Z","comments":true,"path":"2020/10/28/git-手册/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2020/10/28/git-%E6%89%8B%E5%86%8C/","excerpt":"","text":"git操作 分支操作 操作 命令 新建本地新分支 git branch branch 新建并切换到本地新分支 git checkout -b branch 新建远程分支 git push origin branch:remoteBranch 删除本地分支 git branch -d dev 删除远程分支 git push origin :remoteBranch 设置本地追踪远程分支 git branch --set-upstream-to=origin/remoteBranch localBranch 直接将远程分支拉取并在本地建立关联分支 git checkout -b localBranch origin/remoteBranch orgit fetch origin master:test 强制操作 操作 命令 强制覆盖本地修改 git fetch --allgit reset --hard origin/mastergit pull 强制上传 git push -f origin remoteBranch 版本管理 操作 命令 查看本地分支与远程关联情况 git branch -vv 查看本地仓库状态 git status 查看本地操作 git reflog 比较本地与远程 git log -p master ..origin/master 查看某个提交 git show commitID 修改主机地址 git remote set-url origin ssh.aaaa.gitorgit remote rm origingit remote add origin [url] 版本回退 git reset --hard commitID 版本回滚 git revert HEAD 将指定的提交（commit）应用于其他分支 git cherry-pick commitID//分支名 Cherry pick 支持一次转移多个提交 git cherry-pick A^..B//包含A和B","categories":[],"tags":[{"name":"git","slug":"git","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/git/"}]},{"title":"linux shell笔记","slug":"linux-shell笔记","date":"2020-10-28T07:28:10.000Z","updated":"2022-01-04T02:58:02.835Z","comments":true,"path":"2020/10/28/linux-shell笔记/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2020/10/28/linux-shell%E7%AC%94%E8%AE%B0/","excerpt":"","text":"raspberry 安装nginx sudo apt-get install nginx sudo /etc/init.d/nginx start 启动 curl -I localhost:80 测试能否访问 sudo nano /etc/nginx/sites-available/default 修改端口 sudo /etc/init.d/nginx reload 重启 用户操作 useradd chenss 添加用户 userdel chenss 删除用户 usermod -a -G user chenss 添加用户组 usermod -g user chenss 修改用户主组 newgrp root 切换用户主从组 groupadd groupname 添加组 groupmod -n new_name： 修改组名 groupdel groupname 删除组 groupmems -g groupname [action] /* -a, –add username: 指定用户加入组；-d, –delete username: 从组中删除用户；-p, –purge : 从组中清除所有成员；-l, –list: 显示组成员列表; */ gpasswd -a chenss user 给组添加用户 gpasswd -d chenss user 删除组中用户 主要配置文件 /etc/passwd: 用户及其属性信息(名称，UID, 主组ID) /etc/shadow: 用户密码及相关属性。 /etc/group: 组及其属性信息。 /etc/gshadow: 组密码及相关属性。 /etc/wpa_supplicant/wpa_supplicant.conf: WiFi管理 redesktop使用文档 apt-get install redesktop ctrl+alt+t //打开终端 rdesktop -f -a 32 -u username -p password ip:port //-f 全屏 ctrl+alt+enter //切换全屏 ctrl+alt+F2 //进入字符终端杀死进程 sudo pkill rdesktop","categories":[{"name":"+ linux","slug":"linux","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/linux/"}],"tags":[{"name":"shell","slug":"shell","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/shell/"}]},{"title":"webpack快速上手","slug":"webpack快速上手","date":"2020-10-28T07:25:23.000Z","updated":"2021-03-04T06:49:48.062Z","comments":true,"path":"2020/10/28/webpack快速上手/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2020/10/28/webpack%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/","excerpt":"","text":"webpack4基本使用概念 webpack是一个前端资源加载/打包工具。 它将根据模块的依赖关系进行静态分析，然后将这些模块按照指定的规则生成对应的静态资源。它做的事情是，分析你的项目结构，找到JavaScript模块以及其它的一些浏览器不能直接运行的拓展语言（Scss，TypeScript等），并将其转换和打包为合适的格式供浏览器使用。可以将多种静态资源 js、css、less 转换成一个静态文件，减少了页面的请求。 安装需要先安装好nodejs, 然后执行下列操作；可能遇到的问题，linux下通过sudo获得管理员权限安装，windows下开始搜索cmd, 右键以管理员身份运行才能安装以下内容；但是在vscode、webstorm等控制台可以直接安装。 mkdir webpacktest cd webpacktest npm init -f-y npm i webpack -D /*i == install ; -D == --dev--save ; */ npm i webpack-cli -D /*webpack4提示需要安装这个才能使用*/ 使用安装后webpack模块就被安装到项目里的node_modules文件夹下面；新建文件demo1.js，写入你想执行的js代码。 网上大部分教程都是在linux下的执行命令，这里讲一下windows下的使用方法。 .\\node_modules\\.bin\\webpack demo1.js -o bundle.js --mode development 至此完成了第一次的代码打包。 使用配置文件在项目根目录下新建webpack.config.js；新建src文件夹，以后自己编写的代码全部放在这个文件夹下面；新建dist文件夹用来存放打包后的文件。 const path = require('path'); const config = &#123; mode:'development', entry:&#123; main:path.resolve(__dirname,\"./src\",\"index.js\") &#125;, output:&#123; path:path.resolve(__dirname,'dist'), filename:'bundle.js' &#125;, module:&#123; rules:[ &#123; test:/\\.css$/, use:[ \"style-loader\", \"css-loader\" ] &#125; ] &#125; &#125;; module.exports = config; 有了配置文件后可以用以下命令就能执行打包了 .\\node_modules\\.bin\\webpack 使用起来还是不方便，可以把命令加到package.json里；注意这里只需要提供包名，node会自动找到包所在目录。 \"scripts\": &#123; \"start\": \"webpack\", &#125; 现在可以在命令行使用下面命令打包 npm start /*注意，当命令指定的为start时候可以省去run*/ markdown预览 ctrl+shift+v","categories":[{"name":"+ js打包","slug":"js打包","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/js%E6%89%93%E5%8C%85/"}],"tags":[{"name":"webpack","slug":"webpack","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/webpack/"}]},{"title":"正则表达式","slug":"正则表达式","date":"2020-10-28T02:58:34.000Z","updated":"2021-03-04T06:49:48.063Z","comments":true,"path":"2020/10/28/正则表达式/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2020/10/28/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","excerpt":"","text":"^((?!\\d*$)\\S{2, })|(\\d{6, })$//超过2个字符或者超过6位纯数字","categories":[{"name":"+ regex","slug":"regex","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/regex/"}],"tags":[{"name":"regex","slug":"regex","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/regex/"}]},{"title":"python 截取字符串","slug":"python截取字符串","date":"2020-10-09T10:20:01.000Z","updated":"2021-10-20T06:24:00.665Z","comments":true,"path":"2020/10/09/python截取字符串/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2020/10/09/python%E6%88%AA%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2/","excerpt":"","text":"111","categories":[{"name":"+ linux","slug":"linux","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/linux/"}],"tags":[{"name":"python","slug":"python","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/python/"}]},{"title":"linux安装ngix及rdesktop的使用","slug":"linux安装ngix及rdesktop的使用","date":"2020-06-04T09:37:50.000Z","updated":"2022-01-04T02:58:13.432Z","comments":true,"path":"2020/06/04/linux安装ngix及rdesktop的使用/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2020/06/04/linux%E5%AE%89%E8%A3%85ngix%E5%8F%8Ardesktop%E7%9A%84%E4%BD%BF%E7%94%A8/","excerpt":"","text":"raspberry 安装nginx sudo apt-get install nginx sudo /etc/init.d/nginx start 启动 curl -I localhost:80 测试能否访问 sudo nano /etc/nginx/sites-available/default 修改端口 sudo /etc/init.d/nginx reload 重启 用户操作 useradd chenss 添加用户 userdel chenss 删除用户 usermod -a -G user chenss 添加用户组 usermod -g user chenss 修改用户主组 newgrp root 切换用户主从组 groupadd groupname 添加组 groupmod -n new_name： 修改组名 groupdel groupname 删除组 groupmems -g groupname [action] /* -a, –add username: 指定用户加入组；-d, –delete username: 从组中删除用户；-p, –purge : 从组中清除所有成员；-l, –list: 显示组成员列表; */ gpasswd -a chenss user 给组添加用户 gpasswd -d chenss user 删除组中用户 主要配置文件 /etc/passwd: 用户及其属性信息(名称，UID, 主组ID) /etc/shadow: 用户密码及相关属性。 /etc/group: 组及其属性信息。 /etc/gshadow: 组密码及相关属性。 /etc/wpa_supplicant/wpa_supplicant.conf: WiFi管理 redesktop使用文档 apt-get install redesktop ctrl+alt+t //打开终端 rdesktop -f -a 32 -u username -p password ip:port //-f 全屏 ctrl+alt+enter //切换全屏 ctrl+alt+F2 //进入字符终端杀死进程 sudo pkill rdesktop","categories":[{"name":"+ linux","slug":"linux","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/linux/"}],"tags":[{"name":"shell","slug":"shell","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/shell/"}]},{"title":"vue组件的三种调用方式","slug":"vue组件的三种调用方式","date":"2020-06-04T07:37:56.000Z","updated":"2021-03-04T06:49:48.061Z","comments":true,"path":"2020/06/04/vue组件的三种调用方式/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2020/06/04/vue%E7%BB%84%E4%BB%B6%E7%9A%84%E4%B8%89%E7%A7%8D%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F/","excerpt":"","text":"一、注册组件，直接调用这种比较常见 1234567891011121314&lt;template&gt; &lt;div class=&quot;page&quot;&gt; &lt;my-dialog /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import MyDialog from &#x27;@/components&#x27; export default &#123; components: &#123; &#x27;my-dialog&#x27;: MyDialog &#125; &#125;&lt;/script&gt; 二、通过js调用使用场景：登陆弹窗，付费弹窗 123456789101112131415161718192021222324252627282930313233343536373839import VipPop from &#x27;./VipPop&#x27;class VipPopup &#123; constructor(Vue, options) &#123; this.vipPop = Vue.extend(VipPop); this.popupInstance = new this.vipPop(&#123; data() &#123; return &#123; title: &#x27;成为VIP，开启新特权&#x27; &#125; &#125;, propsData: &#123;&#125;, extends: options &#125;).$mount(); &#125; show(obj) &#123; obj.title &amp;&amp; (this.popupInstance.title = obj.title); if (this.el) &#123; this.el.style.display = &#x27;block&#x27;; &#125; else &#123; this.el = this.popupInstance.$el; document.body.appendChild(this.el) &#125; document.body.classList.add(&#x27;van-overflow-hidden&#x27;) &#125; hide() &#123; document.body.classList.remove(&#x27;van-overflow-hidden&#x27;) this.el &amp;&amp; (this.el.style.display = &#x27;none&#x27;); &#125; remove() &#123; document.body.classList.remove(&#x27;van-overflow-hidden&#x27;) this.el &amp;&amp; this.el.remove(); this.el = null; &#125; export default &#123; install: function(Vue, options) &#123; Vue.prototype.$vipPop = new VipPopup(Vue, options); &#125; &#125;;&#125; 1234.van-overflow-hidden &#123; overflow: hidden !important; /**禁止背景滚动条**/&#125; 在main.js中引入这个组件 12345678import Vue from &#x27;vue&#x27;import router from &quot;./router.js&quot;import store from &#x27;./store&#x27;import VipPop from &#x27;@/components/VipPop&#x27;Vue.use(VipPop, &#123; router, store&#125;) 三、以指令的形式调用使用场景：加载动画 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889import Vue from &#x27;vue&#x27;const LoadingConstructor = Vue.extend(require(&#x27;./Loading.vue&#x27;))export default &#123; install: Vue =&gt; &#123; Vue.directive(&#x27;loading&#x27;, &#123; // 指令的关键 bind: (el, binding) =&gt; &#123; const loading = new LoadingConstructor(&#123; // 实例化一个loading el: document.createElement(&#x27;div&#x27;), data: &#123; text: el.getAttribute(&#x27;loading-text&#x27;), // 通过loading-text属性获取loading的文字 fullscreen: !!binding.modifiers.fullscreen &#125; &#125;) el.instance = loading; // el.instance是个Vue实例 el.loading = loading.$el; // el.loading的DOM元素是loading.$el el.loadingStyle = &#123;&#125;; toggleLoading(el, binding); &#125;, update: (el, binding) =&gt; &#123; el.instance.setText(el.getAttribute(&#x27;loading-text&#x27;)) if (binding.oldValue !== binding.value) &#123; toggleLoading(el, binding) &#125; &#125;, unbind: (el, binding) =&gt; &#123; // 解绑 if (el.domInserted) &#123; if (binding.modifiers.fullscreen) &#123; document.body.removeChild(el.loading); &#125; else &#123; el.loading &amp;&amp; el.loading.parentNode &amp;&amp; el.loading.parentNode.removeChild(el.loading); &#125; &#125; &#125; &#125;) const toggleLoading = (el, binding) =&gt; &#123; // 用于控制Loading的出现与消失 if (binding.value) &#123; Vue.nextTick(() =&gt; &#123; if (binding.modifiers.fullscreen) &#123; // 如果是全屏 el.originalPosition = document.body.style.position; el.originalOverflow = document.body.style.overflow; insertDom(document.body, el, binding); // 插入dom &#125; else &#123; el.originalPosition = el.style.position; insertDom(el, el, binding); // 如果非全屏，插入元素自身 &#125; &#125;) &#125; else &#123; if (el.domVisible) &#123; el.instance.$on(&#x27;after-leave&#x27;, () =&gt; &#123; el.domVisible = false; if (binding.modifiers.fullscreen &amp;&amp; el.originalOverflow !== &#x27;hidden&#x27;) &#123; document.body.style.overflow = el.originalOverflow; &#125; if (binding.modifiers.fullscreen) &#123; document.body.style.position = el.originalPosition; &#125; else &#123; el.style.position = el.originalPosition; &#125; &#125;); el.instance.visible = false; &#125; &#125; &#125; const insertDom = (parent, el, binding) =&gt; &#123; // 插入dom的逻辑 if (!el.domVisible) &#123; Object.keys(el.loadingStyle).forEach(property =&gt; &#123; el.loading.style[property] = el.loadingStyle[property]; &#125;); if (el.originalPosition !== &#x27;absolute&#x27;) &#123; parent.style.position = &#x27;relative&#x27; &#125; if (binding.modifiers.fullscreen) &#123; parent.style.overflow = &#x27;hidden&#x27; &#125; el.domVisible = true; parent.appendChild(el.loading) // 插入的是el.loading而不是el本身 Vue.nextTick(() =&gt; &#123; el.instance.visible = true; &#125;); el.domInserted = true; &#125; &#125; &#125;&#125; 1&lt;div v-loading.fullscreen=&quot;loading&quot; loading-text=&quot;正在加载中&quot;&gt;","categories":[{"name":"+ vue","slug":"vue","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/vue/"}]},{"title":"文字超出固定行数隐藏","slug":"js实现文字超出固定行数隐藏","date":"2020-06-04T03:19:05.000Z","updated":"2021-03-04T06:49:48.058Z","comments":true,"path":"2020/06/04/js实现文字超出固定行数隐藏/","link":"","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/2020/06/04/js%E5%AE%9E%E7%8E%B0%E6%96%87%E5%AD%97%E8%B6%85%E5%87%BA%E5%9B%BA%E5%AE%9A%E8%A1%8C%E6%95%B0%E9%9A%90%E8%97%8F/","excerpt":"","text":"实现效果 实现超出单行隐藏123456.text &#123; width: 300px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;&#125; 实现超出三行隐藏12345678.text &#123; width: 300px; overflow: hidden; display: -webkit-box; text-overflow: ellipsis; -webkit-box-orient: vertical; -webkit-line-clamp: 3;&#125; 判断是否有隐藏内容12let dom = document.querySelect(&#x27;.text&#x27;);return dom.scrollHeight &gt; dom.clientHeight;","categories":[{"name":"+ js","slug":"js","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/js/"}],"tags":[{"name":"js","slug":"js","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/js/"}]}],"categories":[{"name":"+ 前端","slug":"前端","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/%E5%89%8D%E7%AB%AF/"},{"name":"+ python","slug":"python","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/python/"},{"name":"+ web","slug":"web","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/web/"},{"name":"+ linux","slug":"linux","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/linux/"},{"name":"+ js打包","slug":"js打包","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/js%E6%89%93%E5%8C%85/"},{"name":"+ regex","slug":"regex","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/regex/"},{"name":"+ vue","slug":"vue","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/vue/"},{"name":"+ js","slug":"js","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/categories/js/"}],"tags":[{"name":"flask Oauth","slug":"flask-Oauth","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/flask-Oauth/"},{"name":"css","slug":"css","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/css/"},{"name":"js","slug":"js","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/js/"},{"name":"web","slug":"web","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/web/"},{"name":"Apache","slug":"Apache","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/Apache/"},{"name":"git","slug":"git","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/git/"},{"name":"shell","slug":"shell","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/shell/"},{"name":"webpack","slug":"webpack","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/webpack/"},{"name":"regex","slug":"regex","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/regex/"},{"name":"python","slug":"python","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/python/"},{"name":"vue","slug":"vue","permalink":"https://chenshanshu.github.io/2020/06/15/hello-world/tags/vue/"}]}